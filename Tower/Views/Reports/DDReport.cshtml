@model IEnumerable<Tower.ViewModels.CalcViewModel>
@helper ShowIfNotNull(string header)
{
    if (!string.IsNullOrEmpty(header))
    {
        <h4> Issue Date: @header</h4>
    }
}

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<h2>Tower Reports</h2>
@using (Html.BeginForm("DDreport", "Reports"))
{

    <p>
        @Html.ActionLink("New Report", "index", "Reports")
    </p>
    <h4>@ViewBag.MyTitle</h4>
   
    @*<h4>County:@Model.FirstOrDefault().county  --- Action: @Model.FirstOrDefault().paction --- @Model.FirstOrDefault().col1 --- @Model.FirstOrDefault().col2*@
    @* @if (@Model.FirstOrDefault().pCert  !=null){@Model.FirstOrDefault().pCert  @Model.FirstOrDefault().p1where }*@
    @* @if(@Model.FirstOrDefault().pAccount != null){@Model.FirstOrDefault().pAccount  @Model.FirstOrDefault().p2where}*@
    @*</h4>*@
    @*@Html.HiddenFor(model => model.FirstOrDefault().qparam1)
    @Html.HiddenFor(model => model.FirstOrDefault().qparam2)
    @Html.HiddenFor(model => model.FirstOrDefault().pissdt)
    @Html.HiddenFor(model => model.FirstOrDefault().county)
    @Html.HiddenFor(model => model.FirstOrDefault().p1where)
    @Html.HiddenFor(model => model.FirstOrDefault().p2where)
    @Html.HiddenFor(model => model.FirstOrDefault().col1)
    @Html.HiddenFor(model => model.FirstOrDefault().col2)
    @Html.HiddenFor(model => model.FirstOrDefault().jvalue)*@

    @*@Html.HiddenFor(model => model.FirstOrDefault().action)*@
    @*@Html.HiddenFor(model => model.FirstOrDefault().paction)*@

    
    <input type="hidden" id="sFace_Value" name="sFace_Value" value="@Model.FirstOrDefault().sFace_Value">
    

    <table class="table">
        <tr>
            @*<th>
                    @Html.DisplayNameFor(model => model.action)

                </th>*@
            <th>

                <input type="submit" value="@Html.DisplayFor(model => model.FirstOrDefault().ddparam1)" name="Command" class="btn-primary" />
            </th>

            @if (@Model.FirstOrDefault().ddparam2 != null)
            {
                <th>

                    <input type="submit" value="@Html.DisplayFor(model => model.FirstOrDefault().ddparam2)" name="Command" class="btn-primary" />
                </th>
            }
            <th>

                <input type="submit" value="Face Value" name="Command" class="btn-primary" />
            </th>
            <th>
                <input type="submit" value="Month 6" name="Command" class="btn-primary" />
            </th>
            <th>
                <input type="submit" value="Month 12" name="Command" class="btn-primary" />
            </th>
            <th>
                <input type="submit" value="Month 23" name="Command" class="btn-primary" />
            </th>
            <th>
                <input type="submit" value="Month 30" name="Command" class="btn-primary" />
            </th>
            <th>
                <input type="submit" value="Month 36" name="Command" class="btn-primary" />
            </th>
            <th>
                <input type="submit" value="Today" name="Command" class="btn-primary" />
            </th>
            <th></th>
        </tr>

        @foreach (var item in Model)
        {


            <tr>
                @*<td>
                        @Html.DisplayFor(modelItem => item.pricegrp1)

                    </td>*@

                <td>
                    @Html.DisplayFor(modelItem => item.PricingGroup)
                    @*<a href="@Url.Action("genmktvals", "percentCalcs", new { ID=item.ID, pgroup = item.PricingGroup, mchoice = item.pchoice, baction = @Model.FirstOrDefault().paction, cntyname = @Model.FirstOrDefault().county, P3 = @Model.FirstOrDefault().pCert, P4 = @Model.FirstOrDefault().pAccount })">@Html.DisplayFor(modelItem => item.PricingGroup)</a>*@
                    @* <a href="@Url.Action("genmktvals", "percentCalcs", new { ID = item.ID, P3 = @Model.FirstOrDefault().pCert, P4 = @Model.FirstOrDefault().pAccount })">@Html.DisplayFor(modelItem => item.PricingGroup)</a>*@
                </td>
                @if (@Model.FirstOrDefault().ddparam2 != null)
                {
                    <td>
                        @Html.DisplayFor(modelItem => item.pchoice)
                    </td>
                }
                <td>
                    @Html.DisplayFor(modelItem => item.Face_Value)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Month_6)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Month_12)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Month_23)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Month_30)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Month_36)

                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Today)
                </td>
              
            </tr>
        }

    </table>
}